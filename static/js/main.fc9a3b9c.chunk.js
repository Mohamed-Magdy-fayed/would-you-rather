(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{138:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t),n.d(t,"useAuth",(function(){return me}));var c=n(12),s=n(3),r=n(46),a=n.n(r),i=n(13),o=(n(138),n(21)),u=n(93),l=(n(143),n(25)),j=n(0),d=n.n(j),b=n(5),f=n(2),O=n(118),h=n(78),p=n(26),x=n(48),m=(Object(O.a)({apiKey:"AIzaSyDxwrTCZY2zDTKoUUdVAA5dn_ayUW1qSTw",authDomain:"would-you-rather-3302c.firebaseapp.com",projectId:"would-you-rather-3302c",storageBucket:"would-you-rather-3302c.appspot.com",messagingSenderId:"427909105110",appId:"1:427909105110:web:07aa4def09e4828598d077"}),Object(x.b)()),v=n.p+"static/media/sara.a8a1e723.jpg",g=n.p+"static/media/john.103fc5ba.jpg";n.p;var w=function(e){var t=Object.keys(e),n=[];return t.forEach((function(t){n.push(e[t])})),n},N=function(e,t){Object(s.useEffect)((function(){null===e&&(t("/signin"),setTimeout((function(){return alert("Please login to view the app")}),100))}),[e,t])};var y=Object(p.f)(),S=Object(x.b)(),k=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={uid:t.uid,qid:t.qid,answer:t.answer},e.prev=1,e.next=4,Object(p.g)(Object(p.c)(y,"questions","".concat(n.qid)),Object(b.a)({},n.answer,{votes:[n.uid]}),{merge:!0});case 4:return e.next=6,Object(p.g)(Object(p.c)(y,"users","".concat(n.uid)),{answers:Object(b.a)({},n.qid,n.answer)},{merge:!0});case 6:return e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={text:t.username,value:t.username,image:{avatar:!0,src:t.url},answers:{},questions:[],password:t.password},e.prev=1,e.next=4,Object(p.g)(Object(p.c)(y,"users","".concat(S.currentUser.uid)),n);case 4:return e.abrupt("return",Object(i.a)({id:S.currentUser.uid},n));case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={timestamp:Date.now(),author:t.author,optionOne:{votes:[],text:t.optionOneText},optionTwo:{votes:[],text:t.optionTwoText}},e.prev=1,e.next=4,Object(p.d)(Object(p.c)(y,"users","".concat(n.author)));case 4:return c=e.sent,e.next=7,Object(p.a)(Object(p.b)(y,"questions"),n);case 7:return s=e.sent,e.next=10,Object(p.g)(Object(p.c)(y,"users","".concat(n.author)),{questions:[].concat(Object(l.a)(c.data().questions),[s.id])},{merge:!0});case 10:return e.abrupt("return",Object(i.a)({id:s.id},n));case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Object(p.e)(Object(p.b)(y,"questions"));case 3:return e.sent.forEach((function(e){t=Object(i.a)(Object(i.a)({},t),{},Object(b.a)({},e.id,Object(i.a)({id:e.id},e.data())))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Object(p.e)(Object(p.b)(y,"users"));case 3:return e.sent.forEach((function(e){t=Object(i.a)(Object(i.a)({},t),{},Object(b.a)({},e.id,Object(i.a)({id:e.id},e.data())))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,Object(p.d)(Object(p.c)(y,"users","".concat(t))).then((function(e){n=e.data()}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.message);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),P="SIGN_IN",D="SIGN_OUT",I=function(e){return{type:P,user:e,logged:!0}},z=n(14),A=n(38),R=n(6),F=function(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),i=Object(c.a)(a,2),l=i[0],j=i[1],d=Object(s.useState)(!1),b=Object(c.a)(d,2),f=b[0],O=b[1],h=Object(o.b)(),p=Object(z.f)(),x=me(),m=x.currentUser,v=x.login,g=Object(o.c)((function(e){return e.users}));Object(s.useEffect)((function(){m&&null!==m&&p("/")}),[m]);var w=function(e,t){e.preventDefault(),h(function(e,t,n){return function(c){return t(e.username,e.password).then((function(e){c(I(n[e.user.uid]))})).catch((function(e){return console.log(e)}))}}({username:t,password:l},v,g)).then((function(){p("/")})).catch((function(e){alert(e.message)}))};return Object(R.jsxs)("div",{className:"signin container bg-dark text-white",children:[Object(R.jsxs)("div",{className:"dropdown flex container",children:[Object(R.jsxs)("span",{className:"fs-400 ff-sans-cond text-white",children:["Select Your User Name:",Object(R.jsx)("input",{className:"form-input bg-dark text-white fs-400 ff-sans-cond",type:"text",name:"username",value:n,onChange:function(e){r(e.target.value)}})]}),Object(R.jsx)("input",{className:"form-input bg-dark text-white fs-400 ff-sans-cond",type:"password",name:"password",value:l,onChange:function(e){/^[0-9\b]+$/.test(e.target.value)||""===e.target.value?j(e.target.value):O(!0),setTimeout((function(){return O(!1)}),5e3)},placeholder:"Password"}),Object(R.jsx)("div",{className:f?"":"hide",children:Object(R.jsx)(u.a,{basic:!0,color:"red",pointing:!0,children:"Please enter numbers only!"})})]}),Object(R.jsx)("div",{className:"underline-indicators container",children:Object(R.jsx)("button",{className:"d-block fs-500 ff-serif bg-dark text-accent",onClick:function(e){n?w(e,n):alert("Please Select Your User Name")},children:"Sign In"})}),Object(R.jsx)(A.b,{to:"/signup",className:"d-block fs-400 ff-serif bg-dark text-accent",children:"New User? Sign Up here."})]})},W=function(){var e=Object(o.c)((function(e){return e.signIn.user})),t=me().logout,n=Object(s.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],u=Object(s.useState)(!1),l=Object(c.a)(u,2),j=l[0],d=l[1],b=Object(o.b)(),f=Object(z.f)(),O=function(){t(),b({type:D,user:{},logged:!1}),f("/signin")};return Object(R.jsxs)("div",{className:"primary-header flex bg-dark",children:[Object(R.jsxs)("p",{className:"fs-300 ff-serif text-white user-name",children:["Welcome ",Object(R.jsx)("span",{className:"ff-serif fs-400 text-accent",children:e&&e.value}),"!"]}),Object(R.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),j?(d(!1),i(!1)):(d(!0),i(!0))}(e)},"aria-expanded":a,className:"mobile-nav-toggle",children:Object(R.jsx)("span",{className:"sr-only",children:"Menu"})}),Object(R.jsxs)("div",{"data-visible":j,className:"nav primary-navigation underline-indicators flex",children:[Object(R.jsx)(A.b,{to:"/",exact:"true",className:"fs-400 ff-sans-cond text-white",children:"Home"}),Object(R.jsx)(A.b,{to:"/new",className:"fs-400 ff-sans-cond text-white",children:"New Poll"}),Object(R.jsx)(A.b,{to:"/leaderboard",className:"fs-400 ff-sans-cond text-white",children:"Leaderboard"}),Object(R.jsx)(A.b,{to:"/signin",onClick:function(){return O()},className:"fs-400 ff-sans-cond text-white",children:"Sign Out"})]})]})},_=n(164),L=n(79),Y=n(125),G=n(162),Q=n(161),B="GET_QUESTIONS",M="ADD_QUESTION",H="ANSWER_QUESTION",J=function(){return function(e){return U().then((function(t){return e(function(e){return{type:B,questions:e}}(t))}))}},K=function(e){return function(t){return T(e).then((function(e){return t(function(e){return{type:M,question:e}}(e))}))}},V=function(e){return function(t){return k(e).then((function(){return t(function(e){return{type:H,uid:e.uid,qid:e.qid,answer:e.answer}}(e))}))}},$=function(e){var t=e.viewed,n=e.poll,r=n.id,a=n.author,i=n.optionOne,u=n.optionTwo,l=Object(o.c)((function(e){return e.users})),j=Object(o.c)((function(e){return e.signIn.user})),d=Object(s.useState)(!1),b=Object(c.a)(d,2),f=b[0],O=b[1],h=Object(s.useState)(""),p=Object(c.a)(h,2),x=p[0],m=p[1],v=Object(s.useState)(!1),g=Object(c.a)(v,2),w=g[0],N=g[1],y=Object(z.f)(),S=Object(o.b)(),k=me().currentUser,q=l[a];Object(s.useEffect)((function(){i.votes.includes(k&&k.uid)||u.votes.includes(k&&k.uid)?O(!0):O(!1)}),[k]);var T=i.votes.length,U=u.votes.length,E=T+U;return Object(R.jsxs)("div",{className:"flex text-white card ff-serif",children:[Object(R.jsxs)("div",{className:"card-header flex",children:[Object(R.jsxs)("p",{className:"fs-400",children:[q&&q.text," asked:"]}),t&&Object(R.jsx)(_.a,{icon:!0,floated:"right",size:"mini",compact:!0,circular:!0,onClick:function(e){return function(e){e.preventDefault(),y(-1)}(e)},children:Object(R.jsx)(L.a,{name:"left arrow"})})]}),Object(R.jsxs)("div",{className:"card-content flex",children:[Object(R.jsx)("div",{className:"card-img",children:Object(R.jsx)(Y.a,{src:q&&q.image.src,alt:"user avatar",size:"massive",avatar:!0,wrapped:!0})}),Object(R.jsxs)("div",{className:"card-info",children:[!t&&Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{className:"uppercase text-accent",children:"Would You Rather?"}),Object(R.jsxs)("p",{className:"fs-400 ff-sans-cond",children:[n.optionOne.text," or ..."]}),Object(R.jsx)(A.b,{className:"button d-block fs-500 ff-serif bg-trans text-accent",to:"/poll/".concat(n.id),children:"View"})]}),t&&f&&Object(R.jsxs)("div",{className:"flex col",children:[Object(R.jsx)("p",{children:"Would You Rather?"}),Object(R.jsxs)("div",{className:n.optionOne.votes.includes(j&&j.id)?"selected-answer flex col card-answer":"not-selected-answer flex col card-answer",children:[Object(R.jsx)("p",{children:n.optionOne.text}),Object(R.jsx)("div",{className:"prog",children:Object(R.jsx)(G.a,{inverted:!0,percent:Math.round(T/E*100),progress:!0,indicating:!0})}),Object(R.jsxs)("p",{children:[T," out of ",E," votes"]})]}),Object(R.jsxs)("div",{className:n.optionTwo.votes.includes(j&&j.id)?"selected-answer flex col card-answer":"not-selected-answer flex col card-answer",children:[Object(R.jsx)("p",{children:n.optionTwo.text}),Object(R.jsx)("div",{className:"prog",children:Object(R.jsx)(G.a,{inverted:!0,percent:Math.round(U/E*100),progress:!0,indicating:!0})}),Object(R.jsxs)("p",{children:[U," out of ",E," votes"]})]})]}),t&&!1===f&&Object(R.jsx)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),""!==x){N(!0);var t={uid:k.uid,qid:r,answer:x};S(V(t)).then((function(){O(!0),N(!1)}))}else alert("Please choose an answer!")}(e)},className:"flow form",children:w?Object(R.jsxs)("div",{className:"grid relative",children:[Object(R.jsx)("div",{children:Object(R.jsx)(Q.a,{active:!0,size:"massive"})}),Object(R.jsx)("span",{className:"fs-500 ff-serif text-accent loading",children:"Loading Data..."})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("p",{children:"Would You Rather?"}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("input",{type:"radio",id:"optionOne",name:"options",value:n.optionOne.text,onChange:function(e){return m(e.target.id)}}),Object(R.jsx)("label",{className:"ff-sans-cond fs-400",htmlFor:"optionOne",children:n.optionOne.text})]}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("input",{type:"radio",id:"optionTwo",name:"options",value:n.optionTwo.text,onChange:function(e){return m(e.target.id)}}),Object(R.jsx)("label",{className:"ff-sans-cond fs-400",htmlFor:"optionTwo",children:n.optionTwo.text})]}),Object(R.jsx)("button",{type:"submit",className:"bg-trans text-accent button",children:"Submit"})]})})]})]})]})},Z=function(){var e=Object(o.c)((function(e){return e.questions})),t=(Object(o.c)((function(e){return e.signIn})),Object(s.useState)(!1)),n=Object(c.a)(t,2),r=n[0],a=n[1],u=Object(z.f)(),l=me().currentUser,j=[],d=[];return Object.keys(e).forEach((function(t){e[t].optionTwo.votes.includes(l&&l.uid)||e[t].optionOne.votes.includes(l&&l.uid)?j.push(Object(i.a)({id:t},e[t])):d.push(Object(i.a)({id:t},e[t]))})),j.sort((function(e,t){return t.timestamp-e.timestamp})),d.sort((function(e,t){return t.timestamp-e.timestamp})),N(l,u),Object(R.jsxs)("div",{className:"fill bg-dark",children:[Object(R.jsx)(W,{}),Object(R.jsxs)("div",{className:"home-menu flex bg-black underline-indicators",children:[Object(R.jsx)("button",{className:r?"active bg-trans":"bg-trans text-accent",onClick:function(){return a(!0)},children:"Answered"}),Object(R.jsx)("button",{className:r?"bg-trans text-accent":"active bg-trans",onClick:function(){return a(!1)},children:"Not Answered"})]}),Object(R.jsx)("ul",{className:"cards-container",children:!0===r?j.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)($,{poll:e,answered:!0})},e.id)})):d.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)($,{poll:e,answered:!1})},e.id)}))})]})},X=function(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),i=Object(c.a)(a,2),u=i[0],l=i[1],j=Object(s.useState)(!1),d=Object(c.a)(j,2),b=d[0],f=d[1],O=Object(z.f)(),h=me().currentUser,p=Object(o.c)((function(e){return e.signIn.user}));N(h,O);var x=Object(o.b)();return Object(R.jsxs)("div",{className:"fill new",children:[Object(R.jsx)(W,{}),Object(R.jsxs)("div",{className:"card text-white flex",children:[Object(R.jsx)("div",{className:"card-header",children:Object(R.jsxs)("p",{children:["Posting as ",p&&p.text]})}),Object(R.jsx)("form",{className:"flow form",onSubmit:function(e){return function(e){e.preventDefault(),f(!0);var t=h&&{optionOneText:n,optionTwoText:u,author:h&&h.uid};x(K(t)).then((function(){O("/"),f(!1)}))}(e)},children:b?Object(R.jsxs)("div",{className:"grid relative",children:[Object(R.jsx)("div",{children:Object(R.jsx)(Q.a,{active:!0,size:"massive"})}),Object(R.jsx)("span",{className:"fs-500 ff-serif text-accent loading",children:"Submitting"})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"form flex",children:[Object(R.jsx)("p",{className:"text-accent",children:"Would You Rather?"}),Object(R.jsx)("input",{className:"form-input bg-dark text-white fs-400 ff-sans-cond",type:"text",placeholder:"Enter Option One",value:n,onChange:function(e){return r(e.target.value)}}),Object(R.jsx)("p",{children:"Or"}),Object(R.jsx)("input",{className:"form-input bg-dark text-white fs-400 ff-sans-cond",type:"text",placeholder:"Enter Option Two",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(R.jsx)("button",{className:"button d-block fs-500 ff-serif bg-trans text-accent",type:"submit",children:"Submit"})]})})]})]})},ee=function(e){var t=e.user,n=t&&w(t.answers).length,c=t&&t.questions.length,s=n+c;return Object(R.jsxs)("div",{className:"card text-white ff-serif flex",children:[Object(R.jsx)("div",{className:"card-header",children:Object(R.jsxs)("p",{className:"fs-400",children:["User Name: ",Object(R.jsx)("span",{className:"text-accent",children:t.text})]})}),Object(R.jsxs)("div",{className:"card-content flex",children:[Object(R.jsx)("div",{className:"card-img",children:Object(R.jsx)(Y.a,{src:t.image.src,size:"massive",avatar:!0,wrapped:!0})}),Object(R.jsxs)("div",{className:"card-info",children:[Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("p",{className:"fs-400",children:"Answered Questions "}),Object(R.jsx)("span",{className:"text-accent",children:n})]}),Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("p",{className:"fs-400",children:"Created Questions "}),Object(R.jsx)("span",{className:"text-accent",children:c})]})]})]}),Object(R.jsx)("div",{className:"card-fotter",children:Object(R.jsxs)("p",{children:["Total Score ",Object(R.jsx)("span",{className:"text-accent",children:s})]})})]})},te=function(){var e=Object(o.c)((function(e){return e.users})),t=e&&w(e),n=t&&t.map((function(e){var t=w(e.answers).length+e.questions.length;return Object(i.a)(Object(i.a)({},e),{},{score:t})})).sort((function(e,t){return t.score-e.score})),c=me().currentUser,s=Object(z.f)();return N(c,s),Object(R.jsxs)("div",{className:"fill",children:[Object(R.jsx)(W,{}),Object(R.jsx)("ul",{className:"cards-container",children:n.map((function(e){return Object(R.jsx)("li",{children:Object(R.jsx)(ee,{user:e})},e.id)}))})]})},ne="GET_USERS",ce="ADD_USER",se=function(){return function(e){return E().then((function(t){return e({type:ne,users:t})}))}},re=function(e,t){return function(n){return t(e.username,e.password).then((function(){q(e).then((function(e){return n(function(e){return{type:ce,user:e}}(e))})).then((function(){return I(e)}))}))}},ae=n(163),ie=function(){var e=Object(z.f)(),t=me().currentUser;N(t,e);var n=Object(z.g)().id,c=Object(o.c)((function(e){return e.questions})),s=c[n];return s?Object(R.jsxs)("div",{className:"container fill",children:[Object(R.jsx)(W,{}),Object(R.jsx)("div",{className:"poll-view",children:Object(R.jsx)($,{poll:s,viewed:!0})})]}):Object(R.jsxs)("div",{className:"container fill",children:[Object(R.jsx)(W,{}),Object(R.jsxs)(ae.a,{negative:!0,size:"massive",children:[Object(R.jsx)(ae.a.Header,{children:"We're sorry we couldn't find this poll"}),Object(R.jsx)("p",{children:"Error 404 NOT FOUND"}),Object(R.jsx)(_.a,{labelPosition:"right",label:"Go back",icon:!0,floated:"left",compact:!0,circular:!0,onClick:function(t){return function(t){t.preventDefault(),e(-1)}(t)},children:Object(R.jsx)(L.a,{name:"left arrow"})})]})]})},oe=n.p+"static/media/profile.9f4aa540.png",ue=n(120),le=Object(h.b)(),je=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",c=Object(h.c)(le,"".concat(t.name)),e.next=4,Object(h.d)(c,t).then((function(e){return Object(h.a)(e.ref).then((function(e){return n=e}))}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(s.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),i=Object(c.a)(a,2),l=i[0],j=i[1],d=Object(s.useState)(""),b=Object(c.a)(d,2),f=b[0],O=b[1],h=Object(s.useState)(!1),p=Object(c.a)(h,2),x=p[0],m=p[1],v=Object(s.useState)(!1),g=Object(c.a)(v,2),w=g[0],N=g[1],y=Object(o.b)(),S=Object(z.f)(),k=me().signup;return Object(R.jsxs)("div",{className:"flex col text-white",children:[Object(R.jsx)(_.a,{label:"Back to Login",color:"facebook",icon:"left arrow",size:"small",onClick:function(){return S("/signin")}}),Object(R.jsxs)("form",{className:"form flex",onSubmit:function(e){return function(e){e.preventDefault(),n?""!==l?""===f||f.length<4?alert("Password should be 4 characters long!"):(N(!0),y(re({url:n,username:l,password:f},k)).then((function(){setTimeout((function(){S("/signin"),N(!1)}),300)}))):alert("Please add a user name!"):alert("Please choose a profile picture!")}(e)},children:[Object(R.jsx)("label",{htmlFor:"img",style:{backgroundImage:"url(".concat(n||oe,")"),width:"100px",aspectRatio:"1",backgroundSize:"cover",borderRadius:"50%"}}),Object(R.jsx)("input",{style:{opacity:0,position:"absolute"},type:"file",id:"img",onChange:function(e){N(!0),je(e.target.files[0]).then((function(e){r(e),N(!1)})).catch((function(e){return alert(e.message)}))}}),Object(R.jsx)("label",{htmlFor:"user-name",children:"User Name"}),Object(R.jsx)("input",{className:"form-input bg-dark text-white fs-400 ff-sans-cond",id:"user-name",name:"user-name",value:l,type:"text",placeholder:"User Name",onChange:function(e){return j(e.target.value)}}),Object(R.jsx)("label",{htmlFor:"password",children:"Password"}),Object(R.jsx)("input",{className:"form-input bg-dark text-white fs-400 ff-sans-cond",id:"password",name:"password",value:f,type:"password",placeholder:"Password",onChange:function(e){/^[0-9\b]+$/.test(e.target.value)||""===e.target.value?O(e.target.value):m(!0),setTimeout((function(){return m(!1)}),5e3)}}),Object(R.jsx)(ue.a,{className:"text-accent fs-200 ff-sans-cond",rules:["minLength"],value:f,minLength:6,iconSize:10,messages:{minLength:"Password should be 4 characters long!"}}),Object(R.jsx)("div",{className:x?"":"hide",children:Object(R.jsx)(u.a,{basic:!0,color:"red",pointing:!0,children:"Please enter numbers only!"})}),Object(R.jsx)("button",{disabled:w,type:"submit",className:"button bg-trans text-accent",children:w?Object(R.jsx)(Q.a,{active:!0,inverted:!0,size:"small"}):"Sign Up"})]})]})},be=function(){var e=Object(o.b)(),t=me().currentUser,n=Object(s.useState)(!0),r=Object(c.a)(n,2),a=r[0],u=r[1];return t&&C(t.uid).then((function(n){var c=Object(i.a)({id:t.uid},n);e(I(c))})),Object(s.useEffect)((function(){e(se()).then((function(){return e(J())})).then((function(){return u(!1)}))}),[]),Object(R.jsx)(s.Fragment,{children:Object(R.jsx)("div",{children:!0===a?Object(R.jsxs)("div",{className:"grid",children:[Object(R.jsx)("div",{children:Object(R.jsx)(Q.a,{active:!0,size:"massive"})}),Object(R.jsx)("span",{className:"fs-500 ff-serif text-dark loading",children:"Loading Data..."})]}):Object(R.jsxs)(z.c,{children:[Object(R.jsx)(z.a,{path:"/",element:Object(R.jsx)(Z,{})}),Object(R.jsx)(z.a,{path:"/signin",element:Object(R.jsx)(F,{})}),Object(R.jsx)(z.a,{path:"/signup",element:Object(R.jsx)(de,{})}),Object(R.jsx)(z.a,{path:"/new",element:Object(R.jsx)(X,{})}),Object(R.jsx)(z.a,{path:"/leaderboard",element:Object(R.jsx)(te,{})}),Object(R.jsx)(z.a,{path:"/poll/:id",element:Object(R.jsx)(ie,{})})]})})})},fe=n(75),Oe=Object(fe.b)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{},logged:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:case D:return{user:t.user,logged:t.logged};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return t.users;case M:return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},t.question.author,Object(i.a)(Object(i.a)({},e[t.question.author]),{},{questions:e[t.question.author].questions.concat([t.authedUser])})));case H:return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},t.uid,Object(i.a)(Object(i.a)({},e[t.uid]),{},{answers:Object(i.a)(Object(i.a)({},e[t.uid].answers),{},Object(b.a)({},t.qid,t.answer))})));case ce:return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},t.user.id,t.user));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.questions;case M:return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},t.question.id,t.question));case H:return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},t.qid,Object(i.a)(Object(i.a)({},e[t.qid]),{},Object(b.a)({},t.answer,Object(i.a)(Object(i.a)({},e[t.qid][t.answer]),{},{votes:e[t.qid][t.answer].votes.concat([t.uid])})))));default:return e}}}),he=n(124),pe=function(e){return function(t){return function(n){console.group(n.type),console.log("The Action: ",n);var c=t(n);return console.log("The New State: ",e.getState()),console.groupEnd(),c}}},xe=Object(fe.a)(he.a,pe),me=function(){var e=Object(s.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!0),i=Object(c.a)(a,2),o=(i[0],i[1]);return Object(s.useEffect)((function(){return Object(x.c)(m,(function(e){r(e),o(!1)}))}),[]),{currentUser:n,login:function(e,t){return Object(x.d)(m,e,t)},signup:function(e,t){return Object(x.a)(m,e,t)},logout:function(){return Object(x.e)(m)},resetPassword:function(e){return m.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}}},ve=Object(fe.c)(Oe,xe);a.a.render(Object(R.jsx)(A.a,{children:Object(R.jsx)(o.a,{store:ve,value:me,children:Object(R.jsx)(be,{})})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.fc9a3b9c.chunk.js.map